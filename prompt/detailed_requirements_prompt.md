# 詳細要件定義書作成プロンプト

あなたは経験豊富なプロダクトマネージャー兼システムアーキテクトです。以下の指示に従い、提供されたシステム要件定義書の内容を基に、指定されたテンプレート形式で詳細な要件定義書を作成してください。

## 入力情報

1.  **システム要件定義書**: `docs/output/system_requirements.md`
    - このファイルの内容を主要なインプットとして使用します。システム概要、機能要件、非機能要件、技術スタック、開発ロードマップ、リスク分析などが含まれています。
2.  **要件定義書テンプレート**: `docs/template/Requirements_Specification_Template.md`
    - 出力するドキュメントはこのテンプレートの構造に従ってください。
3.  **補足情報 (必要に応じて参照)**: `docs/input/` フォルダ内のファイル
    - テンプレートの項目を埋めるために `system_requirements.md` の情報だけでは不足する場合、これらのファイルから関連情報を参照してください。特にビジネス背景、ユーザーの詳細、初期のアイデアに関する情報が含まれています。

## 出力形式

-   **ファイル名**: `docs/output/detailed_requirements_specification.md`
-   **形式**: `docs/template/Requirements_Specification_Template.md` のマークダウン形式に従ってください。

## 実行手順

1.  `docs/output/system_requirements.md` の内容を読み込み、理解します。
2.  `docs/template/Requirements_Specification_Template.md` の各セクションを確認します。
3.  `system_requirements.md` の情報を、テンプレートの対応するセクションにマッピングし、内容を転記・整理します。
    -   **例**:
        -   `system_requirements.md` の「システム概要」 -> テンプレートの「1. プロジェクト概要」
        -   `system_requirements.md` の「機能要件」 -> テンプレートの「4. 機能要件」
        -   `system_requirements.md` の「非機能要件」 -> テンプレートの「5. 非機能要件」
        -   `system_requirements.md` の「技術スタック」 -> テンプレートの「7. 技術選定とアーキテクチャ」
        -   `system_requirements.md` の「開発ロードマップ」 -> テンプレートの「8. 開発プロセス / スケジュール」
        -   `system_requirements.md` の「リスク分析」 -> テンプレートの「9. リスクと課題」
4.  テンプレートの項目で、`system_requirements.md` に直接的な情報がない場合は、以下のいずれかの方法で対応してください。
    -   `docs/input/` フォルダ内の補足情報を参照して記述する。
    -   推測に基づいて記述し、その旨を `(仮定)` として明記する。
    -   情報が完全に不足している場合は `(要確認)` と記述する。
5.  **特に注意する項目**:
    -   **2. ビジネス要件**: `docs/input/` フォルダ内の関連ファイルからリーンキャンバスや7Powers分析の結果を要約して記載します。KPI/KGI は `system_requirements.md` の「追加情報リクエスト」や補足情報ファイル内の「主要な指標」等を参考に設定します（必要であれば仮定を置きます）。
    -   **3. ユーザー要件**: `docs/input/` フォルダ内の関連ファイルからターゲットユーザー情報や `system_requirements.md` の概要からペルソナやユーザーストーリーを作成します。MVP の定義は `system_requirements.md` の開発ロードマップ（フェーズ1）を参考にします。
    -   **4. 機能要件**: `system_requirements.md` の機能要件リストを基に、テンプレートの「機能一覧」を作成します。「機能詳細仕様」は、主要な機能（例: 広告表示、後続車両分析、広告主管理）について、ユースケース、正常系・例外系フローなどを可能な範囲で具体化します。
    -   **6. インテグレーション要件**: `system_requirements.md` の「技術スタック」や機能要件から、想定される外部サービス連携（認証、DB、AI API など）をリストアップします。API 仕様やデータ連携要件は、現時点で明確な情報がない場合は `(要検討)` とします。
    -   **10. ランニング費用と運用方針**: `system_requirements.md` の「技術スタック」で挙げられているサービス（AWS, SaaS など）を基に、費用の概算や運用体制について記載します（仮定を含む）。
    -   **11. 変更管理**, **12. 参考資料**: プロジェクトの状況に合わせて適切に記述します。参考資料には、参照した補足情報ファイル名をリストアップしてください。
6.  生成された `detailed_requirements_specification.md` がテンプレート形式に沿っており、元の情報が正確に反映されているかを確認します。不足情報や仮定が明記されているかも確認してください。

## 評価基準

-   出力ドキュメントが `Requirements_Specification_Template.md` の形式に厳密に従っていること。
-   `system_requirements.md` の情報がテンプレートの適切なセクションに正確に反映されていること。
-   テンプレートに存在するが元のドキュメントにない情報について、適切に補足（補足情報参照、仮定、要確認など）されていること。
-   ユーザーストーリーや機能詳細仕様など、具体化が必要な項目が可能な範囲で記述されていること。
-   全体として、開発チームが実装に着手できるレベルの詳細度を目指していること。 